<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Prueba de proyecto</title>
</h:head>
<body>
	<div class="card">
		<h:form id="form1">
			<div class="input-group">
				<h5></h5>
				<span class="ui-input-icon-left-group-addon"> <p:inputText
						value="#{tableView.id}" placeholder="Identificacion " />
				</span> <span class="ui-input-icon-left-group-addon"> <p:inputText
						value="#{tableView.name}" placeholder="Nombre Proveedor" />
				</span>
				<h5></h5>
				<p:commandButton value="Buscar Proveedor" icon="pi pi-search"
					iconPos="right" action="#{tableView.searchProviders}"
					update="form:Providers" />
			</div>
		</h:form>
		<br></br>
		<h:form id="form">
			<p:dataTable id="Providers" var="provider"
				value="#{tableView.providers}" rowKey="#{provider.id}"
				selection="#{tableView.selectedProviders}" selectionMode="single">
				<f:facet name="header">
                Haga clic con el botón derecho para ver las opciones
            </f:facet>
				<p:column headerText="Identificacion">
					<h:outputText value="#{provider.id}" />
				</p:column>
				<p:column headerText="Nombre Proveedor">
					<h:outputText value="#{provider.nameProvider}" />
				</p:column>
				<p:column headerText="Direccion">
					<h:outputText value="#{provider.direction}" />
				</p:column>
				<p:column headerText="Correo Electronico">
					<h:outputText value="#{provider.email}" />
				</p:column>
				<p:column headerText="Numero de vehiculos disponibles">
					<h:outputText value="#{provider.numberVehiclesAvailable}" />
				</p:column>
			</p:dataTable>
			<p:contextMenu for="Providers">
				<p:menuitem value="Editar" update="form2:providerDetail"
					icon="pi pi-pencil" oncomplete="PF('providerDialog').show()" />
				<p:menuitem value="Eliminar" update="Providers" icon="pi pi-times"
					action="#{tableView.deleteProviders}" />
			</p:contextMenu>
		</h:form>
		<p:dialog header="Editar Proveedor" widgetVar="providerDialog"
			modal="true" showEffect="fade" hideEffect="fade" resizable="false"
			width="400">
			<h:form id="form2">
				<p:outputPanel id="providerDetail" style="text-align:center;">
					<p:column rendered="#{not empty tableView.selectedProviders}">
						<div class="product">
							<div class="product-grid-item border-0" style="margin-bottom: 0">
								<div class="product-grid-item-content">
									<div>
										<h2></h2>
										<span class="ui-float-label"> <p:inputText
												style="width: 350px" disabled="true" id="float-input"
												required="true" value="#{tableView.selectedProviders.id}" />
											<p:outputLabel for="@previous" value="Identificacion" />
										</span>
									</div>
									<div>
										<h2></h2>
										<span class="ui-float-label"> <p:inputText
												style="width: 350px" id="float-input1" required="true"
												value="#{tableView.selectedProviders.nameProvider}" /> <p:outputLabel
												for="@previous" value="Nombre del proveedor" />
										</span>
									</div>
									<div>
										<h2></h2>
										<span class="ui-float-label"> <p:inputText
												style="width: 350px" id="float-input2" required="true"
												value="#{tableView.selectedProviders.direction}" /> <p:outputLabel
												for="@previous" value="Dirección" />
										</span>
									</div>
									<div>
										<h2></h2>
										<span class="ui-float-label"> <p:inputText
												style="width: 350px" id="float-input3"
												value="#{tableView.selectedProviders.email}" /> <p:outputLabel
												for="@previous" value="Correo electrónico" />
										</span>
									</div>
									<div>
										<h2></h2>
										<span class="ui-float-label"> <p:inputText
												style="width: 350px" id="float-input4"
												value="#{tableView.selectedProviders.numberVehiclesAvailable}" />
											<p:outputLabel for="@previous"
												value="Cantidad de vehículos disponibles" />
										</span>
									</div>
								</div>
								<h1></h1>
								<div>
									<p:commandButton value="Editar" icon="pi pi-check"
										iconPos="right" action="#{tableView.updateProviders}"
										update="form:Providers"
										oncomplete="PF('providerDialog').hide()" />
								</div>
							</div>
						</div>
					</p:column>
				</p:outputPanel>
			</h:form>
		</p:dialog>
	</div>
	<br></br>
	<div class="card">
		<h:form id="form3">
			<p:commandButton value="Crear Proveedor" icon="pi pi-user-plus"
				update="form4:providerDetail" oncomplete="PF('createDialog').show()" />
		</h:form>
		<p:dialog header="Crear Proveedor" widgetVar="createDialog"
			modal="true" showEffect="fade" hideEffect="fade" resizable="false">
			<h:form id="form4">
				<p:outputPanel id="providerDetail" style="text-align:center;">
					<p:column>
						<div class="product">
							<div class="product-grid-item border-0" style="margin-bottom: 0">
								<div class="product-grid-item-content">
									<div>
										<h2></h2>
										<span class="ui-float-label"> <p:inputText
												style="width: 350px" id="float-input"
												value="#{tableView.selectProvidersC.id}"  required="true"/> <p:outputLabel
												for="@previous" value="Identificacion" />
										</span>
									</div>
									<div>
										<h2></h2>
										<span class="ui-float-label"> <p:inputText
												style="width: 350px" id="float-input1"
												value="#{tableView.selectProvidersC.nameProvider}" /> <p:outputLabel
												for="@previous" value="Nombre del proveedor" />
										</span>
									</div>
									<div>
										<h2></h2>
										<span class="ui-float-label"> <p:inputText
												style="width: 350px" id="float-input2"
												value="#{tableView.selectProvidersC.direction}" /> <p:outputLabel
												for="@previous" value="Dirección" />
										</span>
									</div>
									<div>
										<h2></h2>
										<span class="ui-float-label"> <p:inputText
												style="width: 350px" id="float-input3"
												value="#{tableView.selectProvidersC.email}" /> <p:outputLabel
												for="@previous" value="Correo electrónico" />
										</span>
									</div>
									<div>
										<h2></h2>
										<span class="ui-float-label"> <p:inputText
												style="width: 350px" id="float-input4"
												value="#{tableView.selectProvidersC.numberVehiclesAvailable}" />
											<p:outputLabel for="@previous"
												value="Cantidad de vehículos disponibles" />
										</span>
									</div>
								</div>
								<h1></h1>
								<div>
									<p:commandButton value="Crear" icon="pi pi-check" process="@this"
										iconPos="right" action="#{tableView.createProviders}"
										update="form:Providers" oncomplete="PF('createDialog').hide()" />
								</div>
							</div>
						</div>
					</p:column>
				</p:outputPanel>
			</h:form>
		</p:dialog>
	</div>
</body>
</html>